# Vim基礎教學講義 第三部分：文字物件操作

## 13 回顧

上節介紹了操作符+移動的操作邏輯：`[次數]{操作符}{移動}`

用目前游標與 `移動` 之間的區域作為 `操作符` 操作的物件

本節介紹 `{操作符}{文字物件}` 這一操作邏輯

## 14 文字物件操作

### 14.1 文字物件概念

**`文字物件`：**語義化的文字片段

**格式：**`i`/`a` + 物件

### 14.2 常見的文字物件

#### 14.2.1 基本文字物件

```
w/W         單字
s           句子
p           段落
```

#### 14.2.2 配對符文字物件

```
(/)         小括號定義的物件
[/]         方括號定義的物件
{/}         大括號定義的物件
</>         角括號定義的物件
'/"         引號定義的物件
```

### 14.3 `i` 與 `a` 的差異

- **`i`** 代表「inner」，內部：只選取內容
- **`a`** 代表「a」，額外包括周圍的空格或配對符

**範例說明：**
```
文字：Hello (world) test

ci(     修改小括號內部 → 結果：Hello () test
ca(     修改整個小括號 → 結果：Hello  test
```

## 15 文字物件操作範例

### 15.1 基本範例

文字物件提供了為文字賦予結構化的含義，允許我們以一個語義物件作為操作單元

**`[次數]{操作符}{文字物件}`**

```java
diw         刪除一個單字
ci(         修改小括號內部
yi{         複製大括號內部
da"         刪除整個雙引號內容（包含引號）
```

**優勢：**
- 透過組合 `操作符` 與 `文字物件`，可以對不同的語義物件實施不同的操作
- 不僅十分靈活，而且語義明確，容易記憶
- 配合 `.` 指令或 `[次數]` 可以簡單地完成多次對特定語義物件的操作

## 16 文字物件 vs 移動

### 16.1 概念比較

**`(操作符)(移動)` 與 `(操作符)(文字物件)`**

解耦了操作與操作的物件，大大提升了操作效率

### 16.2 功能差異

| 特性 | Motion（移動） | Text Objects（文字物件） |
|------|----------------|-------------------------|
| 獨立使用 | 可以獨立使用（如 `w`、`b`、`e`） | 不能獨立使用（如 `iw`） |
| 作用範圍 | 透過游標的移動確定操作符的作用範圍 | 顯式地指定操作的物件 |
| 範圍特性 | 範圍更加靈活但不夠明確 | 範圍明確且語義清楚 |

## 17 擴充套件

### 17.1 可擴充性

`{操作符}{移動}` 與 `{操作符}{文字物件}` 

可以透過自訂 操作符、移動、文字物件 進行擴充，實現更強大的操作

### 17.2 常用外掛

```
vim-easymotion    擴充移動，更強大的跳轉功能
vim-surround      定義了新增配對符（括號、引號等）的操作符
vim-commentary    定義了新增註解的操作符
targets.vim       擴充文字物件，定義了新的文字物件（如函數參數等）
```

## 18 操作符與指令補充

### 18.1 大小寫轉換操作符

```
gu          轉小寫
gU          轉大寫
g~          翻轉大小寫
guw         將下一個單字轉為小寫
gUiw        將目前單字轉為大寫
g~ap        翻轉整個段落的大小寫
```

### 18.2 其他實用指令

```
J           連接兩行
<Ctrl-a>    增加數字
<Ctrl-x>    減少數字
g<Ctrl-a>   建立遞增序列
<           左縮排
>           右縮排
```

## 19 最佳實務建議

### 19.1 讓你的指令更模組化

盡量使你的指令更模組化，具有清晰的含義與作用範圍，以便於與 `.` 等指令協同

**範例：**`daw` 比 `dw` 具有更清晰的語義，也更模組化

### 19.2 練習技巧：用 `v` 先視覺化修改的範圍

一開始不熟練時，可能不確定 移動 或 文字物件 具體覆蓋了哪部分文字

**練習方法：**
- 可以先用 `v{移動}` / `v{文字物件}` 將範圍選中
- 再執行 `c`/`d`/`y` 等操作

**注意：**當熟練掌握後，盡可能直接使用完整的指令進行操作，因為相比於 `viw` + `d`，`diw` 更加模組化，也更容易進行重複操作

## 小結

- 了解常用的文字物件
- **（重要）**掌握 `{操作符}{文字物件}` 的操作哲學
- 盡量使你的指令模組化，語義清晰，易於重複