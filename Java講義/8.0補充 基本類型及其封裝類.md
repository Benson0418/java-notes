# Java 基本型別與封裝類講義

## 概述

在 Java 中，基本型別（Primitive Types）是最基本的數據類型，而封裝類（Wrapper Classes）則是將基本型別包裝成物件的類別。每個基本型別都有對應的封裝類，提供了豐富的方法來操作這些數據。

## 基本型別與封裝類對照表

| 基本型別 | 封裝類 | 預設值 | 記憶體大小 | 範圍 |
|---------|--------|--------|------------|------|
| `byte` | `Byte` | 0 | 1 byte | -128 到 127 |
| `short` | `Short` | 0 | 2 bytes | -32,768 到 32,767 |
| `int` | `Integer` | 0 | 4 bytes | -2³¹ 到 2³¹-1 |
| `long` | `Long` | 0L | 8 bytes | -2⁶³ 到 2⁶³-1 |
| `float` | `Float` | 0.0f | 4 bytes | 約 ±3.40282347E+38F |
| `double` | `Double` | 0.0d | 8 bytes | 約 ±1.79769313486231570E+308 |
| `char` | `Character` | '\u0000' | 2 bytes | 0 到 65,535 (Unicode) |
| `boolean` | `Boolean` | false | 1 bit | true 或 false |

## 常用方法與範例

### 1. 整數型別

#### byte / Byte
```java
// 基本型別
byte b1 = 10;

// 封裝類
Byte b2 = Byte.valueOf(20);
byte parsed = Byte.parseByte("30");
int comparison = b2.compareTo(Byte.valueOf(15)); // 返回 1 (大於)
```

#### short / Short
```java
// 基本型別
short s1 = 1000;

// 封裝類
Short s2 = Short.valueOf(2000);
short parsed = Short.parseShort("3000");
int comparison = s2.compareTo(Short.valueOf(1500)); // 返回 1 (大於)
```

#### int / Integer
```java
// 基本型別
int i1 = 100;

// 封裝類
Integer i2 = Integer.valueOf(200);
int parsed = Integer.parseInt("300");
int comparison = i2.compareTo(Integer.valueOf(150)); // 返回 1 (大於)
String binary = Integer.toBinaryString(8); // "1000"
String hex = Integer.toHexString(255); // "ff"
```

#### long / Long
```java
// 基本型別
long l1 = 1000L;

// 封裝類
Long l2 = Long.valueOf(2000L);
long parsed = Long.parseLong("3000");
int comparison = l2.compareTo(Long.valueOf(1500L)); // 返回 1 (大於)
```

### 2. 浮點數型別

#### float / Float
```java
// 基本型別
float f1 = 3.14f;

// 封裝類
Float f2 = Float.valueOf(2.71f);
float parsed = Float.parseFloat("1.414");
int comparison = f2.compareTo(Float.valueOf(2.0f)); // 返回 1 (大於)
boolean isNaN = Float.isNaN(Float.NaN); // true
boolean isInfinite = Float.isInfinite(Float.POSITIVE_INFINITY); // true
```

#### double / Double
```java
// 基本型別
double d1 = 3.1415;

// 封裝類
Double d2 = Double.valueOf(2.718);
double parsed = Double.parseDouble("1.732");
int comparison = d2.compareTo(Double.valueOf(2.0)); // 返回 1 (大於)
boolean isNaN = Double.isNaN(Double.NaN); // true
```

### 3. 字元型別

#### char / Character
```java
// 基本型別
char c1 = 'A';

// 封裝類
Character c2 = Character.valueOf('B');
boolean isDigit = Character.isDigit('5'); // true
boolean isLetter = Character.isLetter('A'); // true
boolean isUpperCase = Character.isUpperCase('A'); // true
char toLowerCase = Character.toLowerCase('A'); // 'a'
char toUpperCase = Character.toUpperCase('a'); // 'A'
int comparison = c2.compareTo(Character.valueOf('A')); // 返回 1 (大於)
```

### 4. 布林型別

#### boolean / Boolean
```java
// 基本型別
boolean bool1 = true;

// 封裝類
Boolean bool2 = Boolean.valueOf(false);
boolean parsed = Boolean.parseBoolean("true");
int comparison = bool2.compareTo(Boolean.valueOf(true)); // 返回 -1 (小於)
String toString = Boolean.toString(true); // "true"
```

## 自動裝箱與拆箱 (Autoboxing & Unboxing)

Java 5 引入了自動裝箱和拆箱機制，讓基本型別與封裝類之間可以自動轉換：

### 自動裝箱 (Autoboxing)
```java
// 基本型別自動轉換為封裝類
Integer i = 100; // 相當於 Integer.valueOf(100)
Double d = 3.14; // 相當於 Double.valueOf(3.14)
Boolean b = true; // 相當於 Boolean.valueOf(true)
```

### 自動拆箱 (Unboxing)
```java
// 封裝類自動轉換為基本型別
Integer integer = 100;
int i = integer; // 相當於 integer.intValue()

Double doubleObj = 3.14;
double d = doubleObj; // 相當於 doubleObj.doubleValue()
```

## 封裝類的常用方法

### 共同方法
所有封裝類都提供以下方法：
- `compareTo()` - 比較兩個物件
- `equals()` - 判斷是否相等
- `toString()` - 轉換為字串
- `hashCode()` - 取得雜湊碼
- `valueOf()` - 從基本型別或字串建立封裝類物件

### 數值型別特有方法
- `parseXxx()` - 從字串解析為基本型別
- `xxxValue()` - 轉換為其他數值型別
- `compare()` - 靜態比較方法

### Character 特有方法
- `isDigit()` - 判斷是否為數字
- `isLetter()` - 判斷是否為字母
- `isUpperCase()` / `isLowerCase()` - 判斷大小寫
- `toUpperCase()` / `toLowerCase()` - 轉換大小寫

## 使用時機

### 使用基本型別的情況
- 需要高效能運算
- 記憶體使用量需要最小化
- 簡單的數值計算

### 使用封裝類的情況
- 需要使用 null 值
- 使用泛型（如 `List<Integer>`）
- 需要呼叫物件方法
- 作為方法參數傳遞物件

## 注意事項

1. **null 值**：基本型別不能為 null，但封裝類可以
2. **效能**：基本型別效能較好，封裝類會有額外的物件創建開銷
3. **比較**：封裝類使用 `equals()` 比較，基本型別使用 `==`
4. **快取**：某些封裝類會快取常用值（如 Integer 的 -128 到 127）

## 實際應用範例

```java
public class PrimitiveWrapperExample {
    public static void main(String[] args) {
        // 字串轉數值
        String numberStr = "123";
        int number = Integer.parseInt(numberStr);
        
        // 數值轉字串
        String result = Integer.toString(456);
        
        // 比較
        Integer a = 100;
        Integer b = 200;
        if (a.compareTo(b) < 0) {
            System.out.println("a 小於 b");
        }
        
        // 字元處理
        char ch = '5';
        if (Character.isDigit(ch)) {
            System.out.println("這是數字字元");
        }
        
        // 布林值處理
        String boolStr = "true";
        boolean flag = Boolean.parseBoolean(boolStr);
    }
}
```

這份講義涵蓋了 Java 基本型別與封裝類的核心概念，適合初學者理解和參考使用。
